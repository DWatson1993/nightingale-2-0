//Gravity forms gumpfh
.gform_heading {
  .gform_description {
	font-size   : 1rem;
	font-weight : $nhsuk-font-bold;
  }
}

.tingle-modal-box {
  .ginput_container_checkbox {
	@extend .nhsuk-checkboxes !optional;

	.gfield_checkbox {
	  li {
		@extend .nhsuk-checkboxes__item;

		label {
		  @extend .nhsuk-label;
		  @extend .nhsuk-checkboxes__label;
		  padding-left : 50px;
		}

		input {
		  @extend .nhsuk-checkboxes__input;
		}
	  }
	}
  }

  .ginput_container_radio {
	@extend .nhsuk-radios !optional;

	.gfield_radio {
	  li {
		@extend .nhsuk-radios__item;

		input {
		  @extend .nhsuk-radios__input;
		}

		label {
		  @extend .nhsuk-label;
		  @extend .nhsuk-radios__label;
		  padding-left : 50px;
		}
	  }
	}
  }
}

.gform_wrapper {
  margin-top : 0 !important;

  .gf_progressbar_wrapper {
	.gf_progressbar {
	  border-radius    : $nhsuk-border-radius;
	  background-color : $color_nhsuk-white;
	  padding          : nhsuk-spacing(2);

	  .percentbar_blue {
		background-color : $color_nhsuk-blue;
	  }

	  .gf_progressbar_percentage {
		border-radius    : $nhsuk-border-radius;
		background       : linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, .3));
		background-color : $color_nhsuk-blue;

		span {
		  font-size   : $nhsuk-base-font-size;
		  font-family : $nhsuk-font, $nhsuk-font-fallback;
		}
	  }

	  &:after {
		border-radius : $nhsuk-border-radius;
	  }
	}
  }

  .gform_body {
	.gfield_select {
	  @extend .nhsuk-select;
	}

	ul.gform_fields {
	  li.gfield.gfield_html {
		dl.nhsuk-summary-list {
		  background   : $color_nhsuk-white;
		  padding      : nhsuk-spacing(4);
		  padding-left : nhsuk-spacing(4);
		}
	  }

	  .gsurvey-survey-field {
		.gsurvey-likert {
		  .nhsuk-likert {
			border: 1px solid $color_nhsuk-grey-2;
			.nhsuk-likert__row {
			  	border-top : 1px solid $color_nhsuk-grey-2;
			  	@include clearfix();
				&:nth-of-type(odd) {
				  .nhsuk-likert__item:not(.nhsuk-likert__rowlabel) {
					background-color : white;
					margin-bottom: 0;
				  }
				}
			  .nhsuk-likert__rowlabel {
				float       : left;
				font-weight : bold;
				width: 15%;
				padding: nhsuk-spacing(4) nhsuk-spacing(3);
			  }
			}
		  }

		  .nhsuk-radios__item {
			padding      : nhsuk-spacing(7) nhsuk-spacing(3) 0 nhsuk-spacing(4);
			margin-right : 0;

			.nhsuk-radios__label {
			  padding-left : nhsuk-spacing(2);

			  &:before {
				top  : nhsuk-spacing(2);
				left : nhsuk-spacing(3);
			  }
			  &:after {
				top: 18px;
				left: 26px;
				// absolute values as radio position changed so the active dot needs to be centred, unable to use nhsuk variables.
			  }
			}
			&:last-of-type() {
			  margin-right: 0;
			}
		  }
		}
	  }
	}

	.address_city, .address_state {
	  width : 50%;
	  float : left;
	}

	.address_city {
	  padding-right : nhsuk-spacing(2);
	}

	.address_state {
	  padding-left : nhsuk-spacing(2);
	}

	ul.gform_fields {
	  list-style   : none;
	  margin-left  : 0;
	  padding-left : 0;

	  li.gfield {
		.ginput_container {
		  input:read-only, select:read-only {
			background-color : inherit;
			border           : 1px solid $color_nhsuk-mid-grey;
		  }
		}

		.ginput_preview {
		  clear   : both;
		  padding : nhsuk-spacing(2) 0;

		  strong {
			padding-left : nhsuk-spacing(3);
		  }
		}
	  }
	}

	.nhsuk-required-message {
	  font-weight  : $nhsuk-font-bold;
	  font-style   : italic;
	  padding-left : nhsuk-spacing(4);
	}

	.nhsuk-textarea {
	  min-height : 200px;
	}

	.gform_hidden {
	  display : none;
	}

	.gform_wrapper {

	  .gfield_error {
		.nhsuk-select {
		  @extend .nhsuk-select--error;
		}
	  }

	  li.gfield fieldset {
		.nhsuk-textarea {
		  width : 100%;
		}
	  }

	}

	.gform_button, .gform_next_button {
	  @extend .nhsuk-button;
	}

	.gform_previous_button {
	  @extend .nhsuk-button;
	  @extend .nhsuk-button--reverse;
	}

	ul.ui-sortable {
	  list-style-type : none;
	}

	.gsurvey-rating {
	  direction : rtl;

	  &:not(:checked) > label {
		width           : 40px;
		height          : 40px;
		background-size : 35px 35px;
		font-size       : 0 !important;
		float           : none;
		display         : inline-block;
		position        : relative;

		&:hover, .gsurvey-rating:not(:checked) > label:hover ~ label {
		  background-size : 35px 35px;
		}
	  }

	  > input:checked ~ label {
		background-size : 35px 35px;
		font-size       : 0 !important;
		float           : none;
		display         : inline-block;
		position        : relative;
	  }

	  &:after {
		clear : both;
	  }
	}

	.ginput_container_name, .clear-multi {
	  display : flex;

	  span, .ginput_container {
		padding : nhsuk-spacing(2) nhsuk-spacing(3) nhsuk-spacing(2) 0;

		&.name-prefix, &.name-first, &.name-middle, &.name-last, &.name_suffix {
		  display : flex;

		  label {
			padding   : 0 nhsuk-spacing(3) 0 nhsuk-spacing(2);
			font-size : 1.25rem;
			color     : $color_nhsuk-dark-grey;
		  }
		}
	  }
	}


	.gform_delete {
	  float  : left;
	  height : 28px;
	}
  }

  .gform_page_footer {
	padding-top : nhsuk-spacing(5) !important;
  }

  #ui-datepicker-div {
	border        : $nhsuk-border-width-form-element solid $color_nhsuk-blue;
	border-radius : $nhsuk-border-radius;
	background    : $color_nhsuk-white;
  }

  .ginput_preview {
	img.gform_delete {
	  padding         : nhsuk-spacing(5) nhsuk-spacing(5) 0px 0px;
	  background      : url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAABKUlEQVRYhe2Uuw4BQRSGPwqJW6KgU4jeA0jEC2h4Ku8hXkFJiCdYURJR0Ot0FM5kx2TZHTu7QvZPTjYzszP/d85cIFMme42AM3Az4gwM0wAIMldxSgNAmUXtf6tciJFLBXrlHZs410dltZn/9Qr8HIBZ0rC2cwDnygD+EmDvcjHbU78Dmlr7Qswn3RZAmavKdgUiNQCAPrAFWhqEqQYwBzpJAMyk76BBmOae/DNPAqAELKT/CLQN842MeUDdFiCqSjyy0yH0zCOZxwEAKANL/O2wylzpJJN6MSBW+IlsTPOwh2gi37W2SFhcgYHMKwI1bb0qULHJoACM8SthY17nec9VJV7dDqcKOnDvbodz81cHLhUIdf08gTFVwd+OZRIAHYEIMtchpkDrDvRKkk0dBvEBAAAAAElFTkSuQmCC);
	  background-size : auto;
	  width           : 0px;
	  height          : 0px;
	}
  }
}


@media only screen and (max-device-width : 799px) {
  .gform_wrapper {
	.gform_body {
	  .ginput_container {
		.gsurvey-rating {
		  &:not(:checked) > label {
			background-size : 28px 28px;
			width           : 30px;
			height          : 30px;

		  }

		  & > input > checked ~ label {
			background-size : 28px 28px;
		  }
		}
	  }
	}
  }
}

.gv-datatables-container {
  .gv-field-label {
	word-break : normal;
  }
}

// Gravity view approval styling
.tippy-popper {
  .tippy-content {
	margin-top : nhsuk-spacing(2);

	.gv-approval-toggle {
	  border        : 0;
	  margin-bottom : nhsuk-spacing(3);
	  display       : block !important;

	  &:before {
		word-break  : initial;
		width       : fit-content;
		position    : relative;
		border      : 0;
		padding     : unset;
		font-size   : $nhsuk-base-font-size;
		font-family : $nhsuk-font, $nhsuk-font-fallback;
		color       : white;
	  }

	  @extend .nhsuk-button;

	  &:hover {
		background : $color_nhsuk-light-grey;

		&:before {
		  color           : $color_nhsuk-black;
		  text-decoration : underline;
		}
	  }

	  &.gv-approval-approved {
		&:before {
		  content : '\2713 \00A0 Approve';
		}

	  }

	  &.gv-approval-disapproved {
		background : $color_nhsuk-red;

		&:before {
		  content : '\2715 \00A0 Decline';
		}

		&:hover {
		  background : $color_nhsuk-light-grey;
		}
	  }

	  &.gv-approval-unapproved {
		background : $color_nhsuk-warm-yellow;

		&:before {
		  content    : '\27F2 \00A0 Reset';
		  background : inherit;
		  color      : $color_nhsuk-black;
		}

		&:hover {
		  background : $color_nhsuk-light-grey;
		}
	  }
	}
  }
}

// Increase contrast on word count under paragraph box, etc.
.gp-word-count-label {
  background : white;
  color      : $color_nhsuk-black;
  padding    : nhsuk-spacing(1);
}
